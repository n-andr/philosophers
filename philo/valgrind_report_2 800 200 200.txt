
c0c7c1% valgrind --tool=helgrind ./philo 2 800 200 200  

 Command: ./philo 2 800 200 200
 
init fork 0 adress 0x4aa2090:
init fork 1 adress 0x4aa20b8:
7 1 has taken a left fork
8 1 has taken a right fork
8 1 is eating
800 2 died
 ---Thread-Announcement------------------------------------------
 
 Thread #2 was created
    at 0x499B9F3: clone (clone.S:76)
    by 0x499C8EE: __clone_internal (clone-internal.c:83)
    by 0x490A6D8: create_thread (pthread_create.c:295)
    by 0x490B1FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
    by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x40125B: strart_threads (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x4017A0: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
 
 ---Thread-Announcement------------------------------------------
 
 Thread #3 was created
    at 0x499B9F3: clone (clone.S:76)
    by 0x499C8EE: __clone_internal (clone-internal.c:83)
    by 0x490A6D8: create_thread (pthread_create.c:295)
    by 0x490B1FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
    by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x40125B: strart_threads (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x4017A0: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
 
 ---Thread-Announcement------------------------------------------
 
 Thread #1 is the program's root thread
 
 ----------------------------------------------------------------
 
  Lock at 0x4AA2588 was first observed
    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x401A98: left_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401C65: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401EF4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x490AAC2: start_thread (pthread_create.c:442)
    by 0x499BA03: clone (clone.S:100)
  Address 0x4aa2588 is 40 bytes inside a block of size 240 alloc'd
    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x401748: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
  Block was alloc'd by thread #1
 
  Lock at 0x4AA2628 was first observed
    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x401B6F: right_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401C96: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401EF4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x490AAC2: start_thread (pthread_create.c:442)
    by 0x499BA03: clone (clone.S:100)
  Address 0x4aa2628 is 200 bytes inside a block of size 240 alloc'd
    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x401748: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
  Block was alloc'd by thread #1
 
 Possible data race during write of size 4 at 0x4AA2040 by thread #2
 Locks held: 1, at address 0x4AA2588
    at 0x401E2D: eat (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401F13: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x490AAC2: start_thread (pthread_create.c:442)
    by 0x499BA03: clone (clone.S:100)
 
 This conflicts with a previous read of size 4 by thread #3
 Locks held: 1, at address 0x4AA2628
    at 0x401B80: right_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401C96: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401EF4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x490AAC2: start_thread (pthread_create.c:442)
    by 0x499BA03: clone (clone.S:100)
  Address 0x4aa2040 is 0 bytes inside a block of size 8 alloc'd
    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x4013D2: init_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401738: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
  Block was alloc'd by thread #1
 
 ----------------------------------------------------------------
 
  Lock at 0x4AA25B0 was first observed
    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x401B6F: right_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401C7B: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401EF4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x490AAC2: start_thread (pthread_create.c:442)
    by 0x499BA03: clone (clone.S:100)
  Address 0x4aa25b0 is 80 bytes inside a block of size 240 alloc'd
    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x401748: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
  Block was alloc'd by thread #1
 
  Lock at 0x4AA2600 was first observed
    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x401A98: left_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401CAC: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401EF4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x490AAC2: start_thread (pthread_create.c:442)
    by 0x499BA03: clone (clone.S:100)
  Address 0x4aa2600 is 160 bytes inside a block of size 240 alloc'd
    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x401748: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
  Block was alloc'd by thread #1
 
 Possible data race during write of size 4 at 0x4AA2044 by thread #2
 Locks held: 1, at address 0x4AA25B0
    at 0x401E79: eat (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401F13: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x490AAC2: start_thread (pthread_create.c:442)
    by 0x499BA03: clone (clone.S:100)
 
 This conflicts with a previous read of size 4 by thread #3
 Locks held: 1, at address 0x4AA2600
    at 0x401AAC: left_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401CAC: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401EF4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x490AAC2: start_thread (pthread_create.c:442)
    by 0x499BA03: clone (clone.S:100)
  Address 0x4aa2044 is 4 bytes inside a block of size 8 alloc'd
    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
    by 0x4013D2: init_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
    by 0x401738: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
  Block was alloc'd by thread #1
 
 
 Use --history-level=approx or =none to gain increased speed, at
 the cost of reduced accuracy of conflicting-access information
 For lists of detected and suppressed errors, rerun with: -s
 ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 213178 from 28)
c0c7c1% 










c0c7c1% valgrind --tool=helgrind ./philo 2 800 200 200 5

==65355== Helgrind, a thread error detector
==65355== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==65355== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==65355== Command: ./philo 2 800 200 200 5
==65355== 
init fork 0 adress 0x4aa2090:
init fork 1 adress 0x4aa20b8:
&philo->left_fork 0 adress 0x4aa2588:
&philo->right_fork 1 adress 0x4aa25b0:
fork 0 adress 0x4aa2090:
&philo->left_fork 1 adress 0x4aa2600:
&philo->right_fork 0 adress 0x4aa2628:
fork 1 adress 0x4aa20b8:
&philo->left_fork 0 adress 0x4aa2588:
8 1 has taken a left fork
&philo->right_fork 1 adress 0x4aa25b0:
8 1 has taken a right fork
9 1 is eating
800 2 died
==65355== ---Thread-Announcement------------------------------------------
==65355== 
==65355== Thread #2 was created
==65355==    at 0x499B9F3: clone (clone.S:76)
==65355==    by 0x499C8EE: __clone_internal (clone-internal.c:83)
==65355==    by 0x490A6D8: create_thread (pthread_create.c:295)
==65355==    by 0x490B1FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==65355==    by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x40125B: strart_threads (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401830: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355== 
==65355== ---Thread-Announcement------------------------------------------
==65355== 
==65355== Thread #3 was created
==65355==    at 0x499B9F3: clone (clone.S:76)
==65355==    by 0x499C8EE: __clone_internal (clone-internal.c:83)
==65355==    by 0x490A6D8: create_thread (pthread_create.c:295)
==65355==    by 0x490B1FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==65355==    by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x40125B: strart_threads (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401830: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355== 
==65355== ---Thread-Announcement------------------------------------------
==65355== 
==65355== Thread #1 is the program's root thread
==65355== 
==65355== ----------------------------------------------------------------
==65355== 
==65355==  Lock at 0x4AA2588 was first observed
==65355==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x401B28: left_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401D35: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401FC4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x490AAC2: start_thread (pthread_create.c:442)
==65355==    by 0x499BA03: clone (clone.S:100)
==65355==  Address 0x4aa2588 is 40 bytes inside a block of size 240 alloc'd
==65355==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x4017D8: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==  Block was alloc'd by thread #1
==65355== 
==65355==  Lock at 0x4AA2628 was first observed
==65355==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x401C1F: right_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401D66: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401FC4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x490AAC2: start_thread (pthread_create.c:442)
==65355==    by 0x499BA03: clone (clone.S:100)
==65355==  Address 0x4aa2628 is 200 bytes inside a block of size 240 alloc'd
==65355==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x4017D8: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==  Block was alloc'd by thread #1
==65355== 
==65355== Possible data race during write of size 4 at 0x4AA2040 by thread #2
==65355== Locks held: 1, at address 0x4AA2588
==65355==    at 0x401EFD: eat (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401FE3: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x490AAC2: start_thread (pthread_create.c:442)
==65355==    by 0x499BA03: clone (clone.S:100)
==65355== 
==65355== This conflicts with a previous read of size 4 by thread #3
==65355== Locks held: 1, at address 0x4AA2628
==65355==    at 0x401C30: right_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401D66: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401FC4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x490AAC2: start_thread (pthread_create.c:442)
==65355==    by 0x499BA03: clone (clone.S:100)
==65355==  Address 0x4aa2040 is 0 bytes inside a block of size 8 alloc'd
==65355==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x401462: init_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x4017C8: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==  Block was alloc'd by thread #1
==65355== 
==65355== ----------------------------------------------------------------
==65355== 
==65355==  Lock at 0x4AA25B0 was first observed
==65355==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x401C1F: right_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401D4B: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401FC4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x490AAC2: start_thread (pthread_create.c:442)
==65355==    by 0x499BA03: clone (clone.S:100)
==65355==  Address 0x4aa25b0 is 80 bytes inside a block of size 240 alloc'd
==65355==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x4017D8: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==  Block was alloc'd by thread #1
==65355== 
==65355==  Lock at 0x4AA2600 was first observed
==65355==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x401B28: left_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401D7C: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401FC4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x490AAC2: start_thread (pthread_create.c:442)
==65355==    by 0x499BA03: clone (clone.S:100)
==65355==  Address 0x4aa2600 is 160 bytes inside a block of size 240 alloc'd
==65355==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x4017D8: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==  Block was alloc'd by thread #1
==65355== 
==65355== Possible data race during write of size 4 at 0x4AA2044 by thread #2
==65355== Locks held: 1, at address 0x4AA25B0
==65355==    at 0x401F49: eat (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401FE3: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x490AAC2: start_thread (pthread_create.c:442)
==65355==    by 0x499BA03: clone (clone.S:100)
==65355== 
==65355== This conflicts with a previous read of size 4 by thread #3
==65355== Locks held: 1, at address 0x4AA2600
==65355==    at 0x401B3C: left_fork (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401D7C: get_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x401FC4: routine (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x490AAC2: start_thread (pthread_create.c:442)
==65355==    by 0x499BA03: clone (clone.S:100)
==65355==  Address 0x4aa2044 is 4 bytes inside a block of size 8 alloc'd
==65355==    at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==65355==    by 0x401462: init_forks (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==    by 0x4017C8: main (in /home/nandreev/Documents/projects/progects-my-git/philosophers/philo/philo)
==65355==  Block was alloc'd by thread #1
==65355== 
==65355== 
==65355== Use --history-level=approx or =none to gain increased speed, at
==65355== the cost of reduced accuracy of conflicting-access information
==65355== For lists of detected and suppressed errors, rerun with: -s
==65355== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 208831 from 28)







,------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------
------------------MUTEX = POINTER


c0c7c1% valgrind --tool=helgrind ./philo 2 800 200 200 5

==71714== Helgrind, a thread error detector
==71714== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==71714== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==71714== Command: ./philo 2 800 200 200 5
==71714== 
init fork 0 adress 0x4aa2090:
init fork 1 adress 0x4aa20b8:
&philo->left_fork 0 adress 0x4aa2588:
&philo->right_fork 1 adress 0x4aa2590:
fork 0 adress 0x4aa2090:
&philo->left_fork 1 adress 0x4aa25c0:
&philo->right_fork 0 adress 0x4aa25c8:
fork 1 adress 0x4aa20b8:
&philo->right_fork 0 adress 0x4aa25c8:
8 2 has taken a right fork
&philo->left_fork 1 adress 0x4aa25c0:
9 2 has taken a left fork
9 2 is eating
800 1 died
==71714== 
==71714== Use --history-level=approx or =none to gain increased speed, at
==71714== the cost of reduced accuracy of conflicting-access information
==71714== For lists of detected and suppressed errors, rerun with: -s
==71714== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 212408 from 35)
